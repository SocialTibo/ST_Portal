<template>
    <c-spend-upload-step-navigation current-step="step0"></c-spend-upload-step-navigation>
    <p>Drag and drop or search for your file below.</p>
    <p>Your file should be formatted to match requirements. To review these or learn more, click here.</p>
    <p>Please note: the more data in the file, the longer the upload will take to complete.</p>
    <div class="center-content">
        <template if:true={hasErrors}>
            <div class="slds-m-top_medium slds-text-color_error">
                <template for:each={errorMessages} for:item="message">
                    <p key={message.text} class={message.class}>{message.text}</p>
                </template>
                <lightning-button label="Try Again" onclick={handleTryAgain} class="slds-m-top_medium"></lightning-button>
            </div>
        </template>
        <template if:false={hasErrors}>
            <lightning-input type="file" onchange={handleFileUpload}></lightning-input>
            <div class="import-container">
                <lightning-button label="Import Records" onclick={importRecords} class="slds-m-top_medium"></lightning-button>
                <div if:true={fileName} class="slds-m-top_small">
                    <lightning-formatted-text value={fileName}></lightning-formatted-text>
                </div>
            </div>

            <template if:true={validatedRecords.length}>
                <lightning-button label="Confirm Insert" onclick={confirmInsert} class="slds-m-top_medium slds-m-left_small"></lightning-button>
            </template>
        </template>
    </div>
</template>
